<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Checkout - LipLux By Jay</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#ff69b4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="LipLux">
    <link rel="manifest" href="manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-wrapper">
                <div class="logo">
                    <a href="index.html">
                        <img src="34D5AF78-54DE-4B62-B538-7C3E2FC51EE6.png" alt="LipLux By Jay">
                    </a>
                </div>
                <div class="checkout-steps">
                    <div class="step active">
                        <span class="step-number">1</span>
                        <span class="step-label">Information</span>
                    </div>
                    <div class="step">
                        <span class="step-number">2</span>
                        <span class="step-label">Payment</span>
                    </div>
                    <div class="step">
                        <span class="step-number">3</span>
                        <span class="step-label">Confirmation</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="checkout-container">
        <div class="checkout-main">
            <!-- Step 1: Customer Information -->
            <div class="checkout-step active" id="step1">
                <h2>Delivery Information</h2>
                <form id="checkoutForm">
                    <div class="form-group">
                        <label>Full Name *</label>
                        <input type="text" id="customerName" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number *</label>
                        <input type="tel" id="customerPhone" placeholder="+233 XX XXX XXXX" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="customerEmail">
                    </div>
                    <div class="form-group">
                        <label>Delivery Address *</label>
                        <textarea id="customerAddress" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>City *</label>
                        <input type="text" id="customerCity" required>
                    </div>
                    <div class="form-group">
                        <label>Additional Notes</label>
                        <textarea id="orderNotes" rows="2" placeholder="Any special instructions for delivery"></textarea>
                    </div>
                    <button type="button" class="btn btn-primary btn-block" onclick="goToPayment()">
                        Continue to Payment
                    </button>
                </form>
            </div>

            <!-- Step 2: Payment -->
            <div class="checkout-step" id="step2">
                <h2>Payment Method</h2>
                <div class="payment-methods">
                    <div class="payment-option active" data-method="momo">
                        <div class="payment-header">
                            <input type="radio" name="payment" value="momo" checked>
                            <label>Mobile Money (MoMo)</label>
                        </div>
                        <div class="payment-details">
                            <!-- Store Owner MoMo Details -->
                            <div class="store-momo-details">
                                <h3 style="color: #ff69b4; margin-bottom: 1rem;">
                                    <i class="fas fa-mobile-alt"></i> Send Payment To:
                                </h3>
                                <div class="momo-info-card">
                                    <div class="momo-info-item">
                                        <span class="momo-label">MoMo Number:</span>
                                        <span class="momo-value">0246780686</span>
                                    </div>
                                    <div class="momo-info-item">
                                        <span class="momo-label">Account Name:</span>
                                        <span class="momo-value">Doris Agyakwaa Brown</span>
                                    </div>
                                    <div class="momo-info-item">
                                        <span class="momo-label">Location:</span>
                                        <span class="momo-value">New Legon</span>
                                    </div>
                                    <div class="momo-info-item">
                                        <span class="momo-label">Amount to Pay:</span>
                                        <span class="momo-value" style="font-size: 1.5rem; color: #ff69b4; font-weight: bold;" id="paymentAmount">GHâ‚µ 0.00</span>
                                    </div>
                                </div>
                            </div>

                            <div class="payment-instructions">
                                <h4><i class="fas fa-info-circle"></i> Payment Instructions:</h4>
                                <ol>
                                    <li>Dial your Mobile Money code (*170# for MTN, *110# for Vodafone, etc.)</li>
                                    <li>Select "Send Money" or "Transfer"</li>
                                    <li>Enter the number: <strong>0246780686</strong></li>
                                    <li>Enter the amount shown above</li>
                                    <li>Confirm the payment</li>
                                    <li>After payment, enter your details below and click "Place Order"</li>
                                </ol>
                            </div>

                            <div class="momo-providers">
                                <button class="momo-btn active" data-provider="mtn">
                                    <span class="momo-icon">ðŸ“±</span>
                                    <span>MTN MoMo</span>
                                </button>
                                <button class="momo-btn" data-provider="vodafone">
                                    <span class="momo-icon">ðŸ“±</span>
                                    <span>Vodafone Cash</span>
                                </button>
                                <button class="momo-btn" data-provider="airteltigo">
                                    <span class="momo-icon">ðŸ“±</span>
                                    <span>AirtelTigo Money</span>
                                </button>
                            </div>

                            <div class="form-group">
                                <label>Your Mobile Money Number (that you paid from) *</label>
                                <input type="tel" id="momoNumber" placeholder="0XX XXX XXXX" required>
                            </div>
                            <div class="form-group">
                                <label>Your Name *</label>
                                <input type="text" id="momoName" required>
                            </div>
                            <div class="form-group">
                                <label>Transaction Reference (Optional)</label>
                                <input type="text" id="momoReference" placeholder="Enter MoMo transaction ID if available">
                            </div>
                            <p class="payment-note">
                                <i class="fas fa-check-circle"></i>
                                After making the payment, fill in your details above and click "Place Order" to confirm your order
                            </p>
                        </div>
                    </div>
                </div>
                <div class="checkout-actions">
                    <button class="btn btn-secondary" onclick="backToInfo()">Back</button>
                    <button class="btn btn-primary" onclick="processPayment()">Confirm Order</button>
                </div>
            </div>

            <!-- Step 3: Confirmation -->
            <div class="checkout-step" id="step3">
                <div class="confirmation-content">
                    <div class="success-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2>Order Placed Successfully!</h2>
                    <p>Thank you for your order. Your payment is being processed.</p>
                    
                    <div class="order-code-box">
                        <h3>Your Order Tracking Code</h3>
                        <div class="order-code" id="orderCode">LOADING...</div>
                        <p class="code-note">Save this code to track your order</p>
                    </div>

                    <div class="order-summary-box">
                        <h3>Order Summary</h3>
                        <div id="confirmationSummary"></div>
                    </div>

                    <div class="confirmation-actions">
                        <button class="btn btn-primary" id="trackOrderBtn" onclick="trackThisOrder()">
                            Track Order
                        </button>
                        <button class="btn btn-secondary" onclick="window.location.href='index.html'">
                            Continue Shopping
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Order Summary Sidebar -->
        <div class="order-summary">
            <h3>Order Summary</h3>
            <div class="summary-items" id="summaryItems">
                <!-- Items will be loaded here -->
            </div>
            <div class="summary-totals">
                <div class="summary-row">
                    <span>Subtotal</span>
                    <span id="summarySubtotal">GHâ‚µ 0.00</span>
                </div>
                <div class="summary-row">
                    <span>Delivery</span>
                    <span id="summaryDelivery">GHâ‚µ 10.00</span>
                </div>
                <div class="summary-row total">
                    <span>Total</span>
                    <span id="summaryTotal">GHâ‚µ 0.00</span>
                </div>
            </div>
        </div>
    </div>

    <script src="products.js"></script>
    <script src="cart.js"></script>
    <script src="checkout.js"></script>
</body>
</html>